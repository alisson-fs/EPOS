diff --git a/.gitignore b/.gitignore
deleted file mode 100644
index 4e3dd04..0000000
--- a/.gitignore
+++ /dev/null
@@ -1,7 +0,0 @@
-# CLion's IDEA folder
-.idea/
-
-# VSCode's default folder
-.vscode/
-
-*.txt
\ No newline at end of file
diff --git a/app/otp_test/makefile b/app/otp_test/makefile
deleted file mode 100644
index 8a6578a..0000000
--- a/app/otp_test/makefile
+++ /dev/null
@@ -1,17 +0,0 @@
-# EPOS Application Makefile
-
-include ../../makedefs
-
-all: install
-
-$(APPLICATION):	$(APPLICATION).o $(LIB)/*
-		$(ALD) $(ALDFLAGS) -o $@ $(APPLICATION).o
-
-$(APPLICATION).o: $(APPLICATION).cc $(SRC)
-		$(ACC) $(ACCFLAGS) -o $@ $<
-
-install: $(APPLICATION)
-		$(INSTALL) $(APPLICATION) $(IMG)
-
-clean:
-		$(CLEAN) *.o $(APPLICATION)
diff --git a/app/otp_test/otp_test.cc b/app/otp_test/otp_test.cc
deleted file mode 100644
index 61b93c6..0000000
--- a/app/otp_test/otp_test.cc
+++ /dev/null
@@ -1,43 +0,0 @@
-#include <utility/ostream.h>
-#include <machine/otp.h>
-
-using namespace EPOS;
-
-OStream cout;
-SiFive_OTP otp;
-
-const unsigned int BUF_SIZE = 1620; // /4 -> 
-const unsigned int offset = 0x00;
-
-int main()
-{
-    unsigned int write_buffer[BUF_SIZE];
-    unsigned int read_buffer[BUF_SIZE]; // 4 bytes buffer * buf_size
-
-    for(unsigned int i = 0; i < BUF_SIZE; i++)
-    {
-        write_buffer[i] = 3;
-        read_buffer[i] = 10;
-    }
-
-    unsigned int b = (unsigned int) otp.write_shot(offset, &write_buffer, BUF_SIZE);
-    // 0 * 4, write_buffer, (3840 - 0) * 4
-
-    cout << "write size = " << b << endl;
-
-    for (unsigned int i = 0; i < b; i++)
-    {
-        cout << hex << "> buf=" << write_buffer[i] << endl;
-    }
-
-    unsigned int c = (unsigned int) otp.read_shot(offset, &read_buffer, BUF_SIZE);
-
-    cout << "read size = " << c << endl;
-
-    for (unsigned int i = 0; i < c; i++)
-    {
-        cout << hex << "> buf=" << read_buffer[i] << endl;
-    }
-
-    return 0;
-}
\ No newline at end of file
diff --git a/app/otp_test/otp_test_traits.h b/app/otp_test/otp_test_traits.h
deleted file mode 100644
index 16c1528..0000000
--- a/app/otp_test/otp_test_traits.h
+++ /dev/null
@@ -1,142 +0,0 @@
-#ifndef __traits_h
-#define __traits_h
-
-#include <system/config.h>
-
-__BEGIN_SYS
-
-// Build
-template<> struct Traits<Build>: public Traits_Tokens
-{
-    // Basic configuration
-    static const unsigned int MODE = LIBRARY;
-    static const unsigned int ARCHITECTURE = RV64;
-    static const unsigned int MACHINE = RISCV;
-    static const unsigned int MODEL = SiFive_U;
-    static const unsigned int CPUS = 1;
-    static const unsigned int NODES = 1; // (> 1 => NETWORKING)
-    static const unsigned int EXPECTED_SIMULATION_TIME = 60; // s (0 => not simulated)
-
-    // Default flags
-    static const bool enabled = true;
-    static const bool monitored = false;
-    static const bool debugged = true;
-    static const bool hysterically_debugged = false;
-
-    // Default aspects
-    typedef ALIST<> ASPECTS;
-};
-
-
-// Utilities
-template<> struct Traits<Debug>: public Traits<Build>
-{
-    static const bool error   = true;
-    static const bool warning = true;
-    static const bool info    = false;
-    static const bool trace   = false;
-};
-
-template<> struct Traits<Lists>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Spin>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Heaps>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Observers>: public Traits<Build>
-{
-    // Some observed objects are created before initializing the Display
-    // Enabling debug may cause trouble in some Machines
-    static const bool debugged = false;
-};
-
-
-// System Parts (mostly to fine control debugging)
-template<> struct Traits<Boot>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Setup>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Init>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Framework>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Aspect>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-
-__END_SYS
-
-// Mediators
-#include __ARCHITECTURE_TRAITS_H
-#include __MACHINE_TRAITS_H
-
-        __BEGIN_SYS
-
-
-// API Components
-template<> struct Traits<Application>: public Traits<Build>
-{
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = Traits<Machine>::HEAP_SIZE;
-    static const unsigned int MAX_THREADS = Traits<Machine>::MAX_THREADS;
-};
-
-template<> struct Traits<System>: public Traits<Build>
-{
-    static const unsigned int mode = Traits<Build>::MODE;
-    static const bool multithread = (Traits<Application>::MAX_THREADS > 1);
-
-    static const unsigned long LIFE_SPAN = 1 * YEAR; // s
-    static const unsigned int DUTY_CYCLE = 1000000; // ppm
-
-    static const bool reboot = true;
-
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = (Traits<Application>::MAX_THREADS + 1) * Traits<Application>::STACK_SIZE;
-};
-
-template<> struct Traits<Thread>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-    static const bool trace_idle = hysterically_debugged;
-    static const bool preemptive = true;
-    static const unsigned int QUANTUM = 100000; // us
-};
-
-template<> struct Traits<Scheduler<Thread>>: public Traits<Build>
-{
-static const bool debugged = Traits<Thread>::trace_idle || hysterically_debugged;
-};
-
-template<> struct Traits<Synchronizer>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-};
-
-template<> struct Traits<Alarm>: public Traits<Build>
-{
-    static const bool visible = hysterically_debugged;
-};
-
-__END_SYS
-
-#endif
diff --git a/app/philosophers_dinner/philosophers_dinner_traits.h b/app/philosophers_dinner/philosophers_dinner_traits.h
index 156c2ca..ea1848b 100644
--- a/app/philosophers_dinner/philosophers_dinner_traits.h
+++ b/app/philosophers_dinner/philosophers_dinner_traits.h
@@ -10,9 +10,9 @@ template<> struct Traits<Build>: public Traits_Tokens
 {
     // Basic configuration
     static const unsigned int MODE = LIBRARY;
-    static const unsigned int ARCHITECTURE = RV32;
+    static const unsigned int ARCHITECTURE = RV64;
     static const unsigned int MACHINE = RISCV;
-    static const unsigned int MODEL = SiFive_E;
+    static const unsigned int MODEL = SiFive_U;
     static const unsigned int CPUS = 1;
     static const unsigned int NODES = 1; // (> 1 => NETWORKING)
     static const unsigned int EXPECTED_SIMULATION_TIME = 60; // s (0 => not simulated)
@@ -31,7 +31,7 @@ template<> struct Traits<Build>: public Traits_Tokens
 // Utilities
 template<> struct Traits<Debug>: public Traits<Build>
 {
-    static const bool error   = false;
+    static const bool error   = true;
     static const bool warning = true;
     static const bool info    = false;
     static const bool trace   = false;
diff --git a/app/simple_idle_test/makefile b/app/simple_idle_test/makefile
deleted file mode 100644
index 8a6578a..0000000
--- a/app/simple_idle_test/makefile
+++ /dev/null
@@ -1,17 +0,0 @@
-# EPOS Application Makefile
-
-include ../../makedefs
-
-all: install
-
-$(APPLICATION):	$(APPLICATION).o $(LIB)/*
-		$(ALD) $(ALDFLAGS) -o $@ $(APPLICATION).o
-
-$(APPLICATION).o: $(APPLICATION).cc $(SRC)
-		$(ACC) $(ACCFLAGS) -o $@ $<
-
-install: $(APPLICATION)
-		$(INSTALL) $(APPLICATION) $(IMG)
-
-clean:
-		$(CLEAN) *.o $(APPLICATION)
diff --git a/app/simple_idle_test/simple_idle_test.cc b/app/simple_idle_test/simple_idle_test.cc
deleted file mode 100644
index ef49058..0000000
--- a/app/simple_idle_test/simple_idle_test.cc
+++ /dev/null
@@ -1,28 +0,0 @@
-#include <time.h>
-#include <synchronizer.h>
-#include <process.h>
-
-using namespace EPOS;
-
-const int iterations = 10;
-OStream cout;
-Semaphore lets_call_idle(0);
-
-void release_lock() {
-    lets_call_idle.v();
-}
-
-int main() {
-    cout << "Simple Idle Test" << endl;
-
-    Function_Handler fh(&release_lock);
-    Alarm a(1000000,&fh, iterations);
-
-    for (int i = 0; i < iterations; i++) {
-        lets_call_idle.p();
-        cout << "Main was Idle " << i+1 << " times" << endl;
-    }
-
-    cout << "The end!" << endl;
-    return 0;
-}
\ No newline at end of file
diff --git a/app/simple_idle_test/simple_idle_test_traits.h b/app/simple_idle_test/simple_idle_test_traits.h
deleted file mode 100644
index 16c1528..0000000
--- a/app/simple_idle_test/simple_idle_test_traits.h
+++ /dev/null
@@ -1,142 +0,0 @@
-#ifndef __traits_h
-#define __traits_h
-
-#include <system/config.h>
-
-__BEGIN_SYS
-
-// Build
-template<> struct Traits<Build>: public Traits_Tokens
-{
-    // Basic configuration
-    static const unsigned int MODE = LIBRARY;
-    static const unsigned int ARCHITECTURE = RV64;
-    static const unsigned int MACHINE = RISCV;
-    static const unsigned int MODEL = SiFive_U;
-    static const unsigned int CPUS = 1;
-    static const unsigned int NODES = 1; // (> 1 => NETWORKING)
-    static const unsigned int EXPECTED_SIMULATION_TIME = 60; // s (0 => not simulated)
-
-    // Default flags
-    static const bool enabled = true;
-    static const bool monitored = false;
-    static const bool debugged = true;
-    static const bool hysterically_debugged = false;
-
-    // Default aspects
-    typedef ALIST<> ASPECTS;
-};
-
-
-// Utilities
-template<> struct Traits<Debug>: public Traits<Build>
-{
-    static const bool error   = true;
-    static const bool warning = true;
-    static const bool info    = false;
-    static const bool trace   = false;
-};
-
-template<> struct Traits<Lists>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Spin>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Heaps>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Observers>: public Traits<Build>
-{
-    // Some observed objects are created before initializing the Display
-    // Enabling debug may cause trouble in some Machines
-    static const bool debugged = false;
-};
-
-
-// System Parts (mostly to fine control debugging)
-template<> struct Traits<Boot>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Setup>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Init>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Framework>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Aspect>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-
-__END_SYS
-
-// Mediators
-#include __ARCHITECTURE_TRAITS_H
-#include __MACHINE_TRAITS_H
-
-        __BEGIN_SYS
-
-
-// API Components
-template<> struct Traits<Application>: public Traits<Build>
-{
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = Traits<Machine>::HEAP_SIZE;
-    static const unsigned int MAX_THREADS = Traits<Machine>::MAX_THREADS;
-};
-
-template<> struct Traits<System>: public Traits<Build>
-{
-    static const unsigned int mode = Traits<Build>::MODE;
-    static const bool multithread = (Traits<Application>::MAX_THREADS > 1);
-
-    static const unsigned long LIFE_SPAN = 1 * YEAR; // s
-    static const unsigned int DUTY_CYCLE = 1000000; // ppm
-
-    static const bool reboot = true;
-
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = (Traits<Application>::MAX_THREADS + 1) * Traits<Application>::STACK_SIZE;
-};
-
-template<> struct Traits<Thread>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-    static const bool trace_idle = hysterically_debugged;
-    static const bool preemptive = true;
-    static const unsigned int QUANTUM = 100000; // us
-};
-
-template<> struct Traits<Scheduler<Thread>>: public Traits<Build>
-{
-static const bool debugged = Traits<Thread>::trace_idle || hysterically_debugged;
-};
-
-template<> struct Traits<Synchronizer>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-};
-
-template<> struct Traits<Alarm>: public Traits<Build>
-{
-    static const bool visible = hysterically_debugged;
-};
-
-__END_SYS
-
-#endif
diff --git a/app/simple_priority_test/makefile b/app/simple_priority_test/makefile
deleted file mode 100644
index 8a6578a..0000000
--- a/app/simple_priority_test/makefile
+++ /dev/null
@@ -1,17 +0,0 @@
-# EPOS Application Makefile
-
-include ../../makedefs
-
-all: install
-
-$(APPLICATION):	$(APPLICATION).o $(LIB)/*
-		$(ALD) $(ALDFLAGS) -o $@ $(APPLICATION).o
-
-$(APPLICATION).o: $(APPLICATION).cc $(SRC)
-		$(ACC) $(ACCFLAGS) -o $@ $<
-
-install: $(APPLICATION)
-		$(INSTALL) $(APPLICATION) $(IMG)
-
-clean:
-		$(CLEAN) *.o $(APPLICATION)
diff --git a/app/simple_priority_test/simple_priority_test.cc b/app/simple_priority_test/simple_priority_test.cc
deleted file mode 100644
index ec744f1..0000000
--- a/app/simple_priority_test/simple_priority_test.cc
+++ /dev/null
@@ -1,40 +0,0 @@
-#include <process.h>
-#include <utility/ostream.h>
-#include <time.h>
-
-using namespace EPOS;
-OStream cout;
-
-#define WAIT_TIME 49999
-
-const unsigned int thread_num = 5;
-Thread * t[thread_num];
-int code;
-
-int func_a() {
-    Delay wait_micro_sec(WAIT_TIME);
-    cout << code-- << " " << endl;
-    return 0;
-}
-
-int func_b() {
-    for (unsigned int i = 0; i < thread_num; ++i) {
-        t[i] = new Thread(&func_a);
-        cout << code++ << " " << endl;
-    }
-    for (unsigned int i = 0; i < thread_num; ++i) {
-        t[i]->join();
-        delete t[i];
-    }
-    return 0;
-}
-
-int main()
-{
-    cout << "Simple Test" << endl;
-    Thread * c = new Thread(&func_b);
-    c->join();
-    delete c;
-    cout << "\nThe end!" << endl;
-    return 0;
-}
\ No newline at end of file
diff --git a/app/simple_priority_test/simple_priority_test_traits.h b/app/simple_priority_test/simple_priority_test_traits.h
deleted file mode 100644
index 2de0a40..0000000
--- a/app/simple_priority_test/simple_priority_test_traits.h
+++ /dev/null
@@ -1,142 +0,0 @@
-#ifndef __traits_h
-#define __traits_h
-
-#include <system/config.h>
-
-__BEGIN_SYS
-
-// Build
-template<> struct Traits<Build>: public Traits_Tokens
-{
-    // Basic configuration
-    static const unsigned int MODE = LIBRARY;
-    static const unsigned int ARCHITECTURE = RV32;
-    static const unsigned int MACHINE = RISCV;
-    static const unsigned int MODEL = SiFive_E;
-    static const unsigned int CPUS = 1;
-    static const unsigned int NODES = 1; // (> 1 => NETWORKING)
-    static const unsigned int EXPECTED_SIMULATION_TIME = 60; // s (0 => not simulated)
-
-    // Default flags
-    static const bool enabled = true;
-    static const bool monitored = false;
-    static const bool debugged = true;
-    static const bool hysterically_debugged = false;
-
-    // Default aspects
-    typedef ALIST<> ASPECTS;
-};
-
-
-// Utilities
-template<> struct Traits<Debug>: public Traits<Build>
-{
-    static const bool error   = true;
-    static const bool warning = true;
-    static const bool info    = false;
-    static const bool trace   = false;
-};
-
-template<> struct Traits<Lists>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Spin>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Heaps>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-template<> struct Traits<Observers>: public Traits<Build>
-{
-    // Some observed objects are created before initializing the Display
-    // Enabling debug may cause trouble in some Machines
-    static const bool debugged = false;
-};
-
-
-// System Parts (mostly to fine control debugging)
-template<> struct Traits<Boot>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Setup>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Init>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Framework>: public Traits<Build>
-{
-};
-
-template<> struct Traits<Aspect>: public Traits<Build>
-{
-    static const bool debugged = hysterically_debugged;
-};
-
-
-__END_SYS
-
-// Mediators
-#include __ARCHITECTURE_TRAITS_H
-#include __MACHINE_TRAITS_H
-
-        __BEGIN_SYS
-
-
-// API Components
-template<> struct Traits<Application>: public Traits<Build>
-{
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = Traits<Machine>::HEAP_SIZE;
-    static const unsigned int MAX_THREADS = Traits<Machine>::MAX_THREADS;
-};
-
-template<> struct Traits<System>: public Traits<Build>
-{
-    static const unsigned int mode = Traits<Build>::MODE;
-    static const bool multithread = (Traits<Application>::MAX_THREADS > 1);
-
-    static const unsigned long LIFE_SPAN = 1 * YEAR; // s
-    static const unsigned int DUTY_CYCLE = 1000000; // ppm
-
-    static const bool reboot = true;
-
-    static const unsigned int STACK_SIZE = Traits<Machine>::STACK_SIZE;
-    static const unsigned int HEAP_SIZE = (Traits<Application>::MAX_THREADS + 1) * Traits<Application>::STACK_SIZE;
-};
-
-template<> struct Traits<Thread>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-    static const bool trace_idle = hysterically_debugged;
-    static const bool preemptive = true;
-    static const unsigned int QUANTUM = 100000; // us
-};
-
-template<> struct Traits<Scheduler<Thread>>: public Traits<Build>
-{
-static const bool debugged = Traits<Thread>::trace_idle || hysterically_debugged;
-};
-
-template<> struct Traits<Synchronizer>: public Traits<Build>
-{
-    static const bool enabled = Traits<System>::multithread;
-};
-
-template<> struct Traits<Alarm>: public Traits<Build>
-{
-    static const bool visible = hysterically_debugged;
-};
-
-__END_SYS
-
-#endif
diff --git a/include/architecture/ia32/ia32_cpu.h b/include/architecture/ia32/ia32_cpu.h
index d99c1ab..f29ea33 100644
--- a/include/architecture/ia32/ia32_cpu.h
+++ b/include/architecture/ia32/ia32_cpu.h
@@ -409,7 +409,7 @@ public:
         return compare;
     }
 
-    static void smp_barrier(unsigned long cores) { CPU_Common::smp_barrier<&finc>(cores, id()); }
+    static void smp_barrier(unsigned long cores = cores()) { CPU_Common::smp_barrier<&finc>(cores, id()); }
 
     // MMU operations
     static Reg  pd() { return cr3(); }
@@ -614,12 +614,12 @@ inline void CPU::Context::pop(bool interrupt)
 
 inline void CPU::Context::push(bool interrupt)
 {
-if(!interrupt) {
+if(!interrupt)
     ASM("       pop     %esi            # recover return address from the stack \n"
         "       pushf                   # create a stack structure for IRET     \n"
         "       push    %cs             #   with FLAGS, CS                      \n"
         "       push    %esi            #   and IP                              \n");
-}
+
     ASM("       pusha                   # push registers                        \n");
 }
 
diff --git a/include/machine/io.h b/include/machine/io.h
deleted file mode 100644
index dffe903..0000000
--- a/include/machine/io.h
+++ /dev/null
@@ -1,26 +0,0 @@
-// EPOS IO Mediator Common Package
-
-#ifndef __io_h
-#define __io_h
-
-#include <system/config.h>
-
-__BEGIN_SYS
-
-class IO_Common
-{
-protected:
-    IO_Common() {}
-
-public:
-    static void writel(unsigned int val, volatile void *addr);
-    static unsigned int readl(const volatile void *addr);
-};
-
-__END_SYS
-
-#endif
-
-#if defined(__IO_H) && !defined(__io_common_only__)
-#include __IO_H
-#endif
diff --git a/include/machine/otp.h b/include/machine/otp.h
deleted file mode 100644
index aaade90..0000000
--- a/include/machine/otp.h
+++ /dev/null
@@ -1,26 +0,0 @@
-// EPOS OTP Mediator Common Package
-
-#ifndef __otp_h
-#define __otp_h
-
-#include <system/config.h>
-
-__BEGIN_SYS
-
-class OTP_Common
-{
-protected:
-    OTP_Common() {}
-
-public:
-    int read_shot(int offset, void *buf, int size);
-    int write_shot(int offset, const void *buf, int size);
-};
-
-__END_SYS
-
-#endif
-
-#if defined(__OTP_H) && !defined(__otp_common_only__)
-#include __OTP_H
-#endif
diff --git a/include/machine/riscv/riscv_io.h b/include/machine/riscv/riscv_io.h
deleted file mode 100644
index ea12c47..0000000
--- a/include/machine/riscv/riscv_io.h
+++ /dev/null
@@ -1,39 +0,0 @@
-#ifndef __riscv_io_h
-#define __riscv_io_h
-
-#include <architecture/cpu.h>
-#include <machine/io.h>
-
-#define __arch_getl(a)			(*(volatile unsigned int *)(a))
-#define __arch_putl(v, a)		(*(volatile unsigned int *)(a) = (v))
-
-/* These barriers need to enforce ordering on both devices or memory. */
-#define mb()		ASM("fence iorw, iorw")
-#define rmb()		ASM("fence ri, ri")
-#define wmb()		ASM("fence wo, wo")
-
-__BEGIN_SYS
-
-class IO: private IO_Common
-{
-
-public:
-    IO() {}
-
-    static void writel(unsigned int val, volatile void *addr)
-    {
-        mb();
-        __arch_putl(val, addr);
-    }
-
-    static unsigned int readl(const volatile void *addr)
-    {
-        unsigned int val = __arch_getl(addr);
-        mb();
-        return val;
-    }
-};
-
-__END_SYS
-
-#endif
diff --git a/include/machine/riscv/riscv_otp.h b/include/machine/riscv/riscv_otp.h
deleted file mode 100644
index 8e802ee..0000000
--- a/include/machine/riscv/riscv_otp.h
+++ /dev/null
@@ -1,267 +0,0 @@
-#ifndef __riscv_sifive_u_otp_h
-#define __riscv_sifive_u_otp_h
-
-#include <architecture/cpu.h>
-#include <machine/otp.h>
-#include <machine/io.h>
-#include <system/memory_map.h>
-#include <time.h>
-
-__BEGIN_SYS
-
-#define PA_RESET_VAL 0x00
-#define PAS_RESET_VAL 0x00
-#define PAIO_RESET_VAL 0x00
-#define PDIN_RESET_VAL 0x00
-#define PTM_RESET_VAL 0x00
-
-#define BIT(nr) (1UL << (nr))
-
-#define PCLK_ENABLE_VAL BIT(0)
-#define PCLK_DISABLE_VAL 0x00
-
-#define PWE_WRITE_ENABLE BIT(0)
-#define PWE_WRITE_DISABLE 0x00
-
-#define PTM_FUSE_PROGRAM_VAL BIT(1)
-
-#define PCE_ENABLE_INPUT BIT(0)
-#define PCE_DISABLE_INPUT 0x00
-
-#define PPROG_ENABLE_INPUT BIT(0)
-#define PPROG_DISABLE_INPUT 0x00
-
-#define PTRIM_ENABLE_INPUT BIT(0)
-#define PTRIM_DISABLE_INPUT 0x00
-
-#define PDSTB_DEEP_STANDBY_ENABLE BIT(0)
-#define PDSTB_DEEP_STANDBY_DISABLE 0x00
-
-#define EINVAL 0
-
-class SiFive_OTP
-{
-private:
-    typedef CPU::Reg32 Reg32;
-
-public:
-    static const unsigned int BYTES_PER_FUSE = Traits<OTP>::BYTES_PER_FUSE;
-    static const unsigned int TOTAL_FUSES = Traits<OTP>::TOTAL_FUSES;
-
-    static const unsigned int TPW_DELAY = Traits<OTP>::TPW_DELAY;
-    static const unsigned int TPWI_DELAY = Traits<OTP>::TPWI_DELAY;
-    static const unsigned int TASP_DELAY = Traits<OTP>::TASP_DELAY;
-    static const unsigned int TCD_DELAY = Traits<OTP>::TCD_DELAY;
-    static const unsigned int TKL_DELAY = Traits<OTP>::TKL_DELAY;
-    static const unsigned int TMS_DELAY = Traits<OTP>::TMS_DELAY;
-
-    // OTP registers offsets from OTP_BASE
-    enum
-    {
-        PA = 0x00,      // Address input
-        PAIO = 0x04,    // Program address input
-        PAS = 0x08,     // Program redundancy cell selection input
-        PCE = 0x0C,     // OTP Macro enable input
-        PCLK = 0x10,    // Clock input
-        PDIN = 0x14,    // Write data input
-        PDOUT = 0x18,   // Read data output
-        PDSTB = 0x1C,   // Deep standby mode enable input (active low)
-        PPROG = 0x20,   // Program mode enable input
-        PTC = 0x24,     // Test column enable input
-        PTM = 0x28,     // Test mode enable input
-        PTM_REP = 0x2C, // Repair function test mode enable input
-        PTR = 0x30,     // Test row enable input
-        PTRIM = 0x34,   // Repair function enable input
-        PWE = 0x38      // Write enable input (defines program cycle)
-    };
-
-public:
-    SiFive_OTP() {}
-
-    int read_shot(int offset, void *buf, int size)
-    {
-
-        // 252 * 4, write_buffer, (3840 - 252) * 4
-
-        // offset = 252 * 4 = 1008
-        // size = 14352
-
-        // Check if offset and size are multiple of BYTES_PER_FUSE.
-        if ((size % BYTES_PER_FUSE) || (offset % BYTES_PER_FUSE))
-        {
-            return EINVAL + 1;
-        }
-
-        unsigned int fuse_id = offset;  // 0
-        unsigned int fuse_count = size; // 3840
-
-        db<OTP>(WRN) << "Started reading OTP!" << endl;
-        db<OTP>(WRN) << "Offset = " << offset << endl;
-        db<OTP>(WRN) << "Size = " << size << endl;
-
-        //  Check bounds.
-        if (offset < 0 || size < 0)
-            return EINVAL + 1;
-        if (fuse_id >= TOTAL_FUSES)
-            return EINVAL + 2;
-        if ((fuse_id + fuse_count) > TOTAL_FUSES)
-            return EINVAL + 3;
-
-        int fuse_buf[fuse_count];
-
-        db<OTP>(WRN) << "Gathering registers!" << endl;
-
-        // Init OTP.
-        IO::writel(PDSTB_DEEP_STANDBY_ENABLE, (volatile void*) SiFive_OTP::PDSTB);
-        IO::writel(PTRIM_ENABLE_INPUT,  (volatile void*) SiFive_OTP::PTRIM);
-        IO::writel(PCE_ENABLE_INPUT, (volatile void*) SiFive_OTP::PCE);
-
-        // db<OTP>(WRN) << "PDSTB REG = " << reg(SiFive_OTP::PDSTB) << endl;
-        // db<OTP>(WRN) << "PTRIM REG = " << reg(SiFive_OTP::PTRIM) << endl;
-        // db<OTP>(WRN) << "PCE REG = " << reg(SiFive_OTP::PCE) << endl;
-
-        // Read all requested fuses.
-        for (unsigned int i = 0; i < fuse_count; i++, fuse_id++)
-        {
-            IO::writel(fuse_id, (volatile void*) SiFive_OTP::PA);
-            // db<OTP>(WRN) << "PA REG = " << reg(SiFive_OTP::PA) << endl;
-
-            /* cycle clock to read */
-            IO::writel(PCLK_ENABLE_VAL, (volatile void*) SiFive_OTP::PCLK);
-            // db<OTP>(WRN) << "PCLK REG = " << reg(SiFive_OTP::PCLK) << endl;
-
-            Delay tcd(TCD_DELAY);
-
-            IO::writel(PCLK_DISABLE_VAL, (volatile void*) SiFive_OTP::PCLK);
-            // db<OTP>(WRN) << "PCLK REG = " << reg(SiFive_OTP::PCLK) << endl;
-
-            Delay tkl(TKL_DELAY);
-
-            /* read the value */
-            // db<OTP>(WRN) << "PDOUT REG = " << reg(SiFive_OTP::PDOUT) << endl;
-            fuse_buf[i] = IO::readl((volatile void*) SiFive_OTP::PDOUT);
-        }
-
-        // db<OTP>(WRN) << "PCE REG = " << reg(SiFive_OTP::PCE) << endl;
-        // db<OTP>(WRN) << "PTRIM REG = " << reg(SiFive_OTP::PTRIM) << endl;
-        // db<OTP>(WRN) << "PDSTB REG = " << reg(SiFive_OTP::PDSTB) << endl;
-
-        // Shut down.
-        IO::writel(PCE_DISABLE_INPUT, (volatile void*) SiFive_OTP::PCE);
-        IO::writel(PTRIM_DISABLE_INPUT, (volatile void*) SiFive_OTP::PTRIM);
-        IO::writel(PDSTB_DEEP_STANDBY_DISABLE, (volatile void*) SiFive_OTP::PDSTB);
-
-        // Copy out.
-        memcpy(buf, fuse_buf, size);
-
-        return size;
-    }
-
-    /*
-     * Caution:
-     * OTP can be written only once, so use carefully.
-     *
-     * offset and size are assumed aligned to the size of the fuses (32-bit).
-     */
-    int write_shot(int offset, const void *buf, int size)
-    {
-        db<OTP>(WRN) << "Offset = " << offset << endl;
-        db<OTP>(WRN) << "size = " << size << endl;
-
-        // Check if offset and size are multiple of BYTES_PER_FUSE.
-        if ((size % BYTES_PER_FUSE) || (offset % BYTES_PER_FUSE))
-        {
-            return EINVAL + 5;
-        }
-
-        unsigned int fuse_id = offset;
-        unsigned int fuse_count = size;
-
-        Reg32 *write_buf = (Reg32 *)buf;
-        int pas, bit;
-
-        // Check bounds.
-        if (offset < 0 || size < 0)
-            return EINVAL + 6;
-        if (fuse_id >= TOTAL_FUSES)
-            return EINVAL + 7;
-        if ((fuse_id + fuse_count) > TOTAL_FUSES)
-            return EINVAL + 8;
-
-        // Init OTP.
-        IO::writel(PDSTB_DEEP_STANDBY_ENABLE, (volatile void*) SiFive_OTP::PDSTB);
-        IO::writel(PTRIM_ENABLE_INPUT, (volatile void*) SiFive_OTP::PTRIM);
-
-        IO::writel(PCLK_DISABLE_VAL, (volatile void*) SiFive_OTP::PCLK);
-        IO::writel(PA_RESET_VAL, (volatile void*) SiFive_OTP::PA);
-        IO::writel(PAS_RESET_VAL, (volatile void*) SiFive_OTP::PAS);
-        IO::writel(PAIO_RESET_VAL, (volatile void*) SiFive_OTP::PAIO);
-        IO::writel(PDIN_RESET_VAL, (volatile void*) SiFive_OTP::PDIN);
-        IO::writel(PWE_WRITE_DISABLE, (volatile void*) SiFive_OTP::PWE);
-        IO::writel(PTM_FUSE_PROGRAM_VAL, (volatile void*) SiFive_OTP::PTM);
-
-        Delay tms(TMS_DELAY);
-
-        IO::writel(PCE_ENABLE_INPUT, (volatile void*) SiFive_OTP::PCE);
-        IO::writel(PPROG_ENABLE_INPUT, (volatile void*) SiFive_OTP::PPROG);
-
-        // Write all requested fuses.
-        for (unsigned int i = 0; i < fuse_count; i++, fuse_id++)
-        {
-            IO::writel(fuse_id, (volatile void*) SiFive_OTP::PA);
-            Reg32 write_data = *(write_buf++);
-
-            for (pas = 0; pas < 2; pas++)
-            {
-                IO::writel(pas, (volatile void*) SiFive_OTP::PAS);
-
-                for (bit = 0; bit < 32; bit++)
-                {
-                    IO::writel(bit, (volatile void*) SiFive_OTP::PAIO);
-                    IO::writel((write_data >> bit) & 1, (volatile void*) SiFive_OTP::PDIN);
-
-                    Delay tasp(TASP_DELAY);
-
-                    IO::writel(PWE_WRITE_ENABLE, (volatile void*) SiFive_OTP::PWE);
-
-                    // EPOS Timer
-                    Delay tpw(TPW_DELAY);
-
-                    IO::writel(PWE_WRITE_DISABLE, (volatile void*) SiFive_OTP::PWE);
-
-                    // EPOS Timer
-                    Delay tpwi(TPWI_DELAY);
-                }
-            }
-
-            IO::writel(PAS_RESET_VAL, (volatile void*) SiFive_OTP::PAS);
-        }
-
-        // Shut down.
-        IO::writel(PWE_WRITE_DISABLE, (volatile void*) SiFive_OTP::PWE);
-        IO::writel(PPROG_DISABLE_INPUT, (volatile void*) SiFive_OTP::PPROG);
-        IO::writel(PCE_DISABLE_INPUT, (volatile void*) SiFive_OTP::PCE);
-        IO::writel(PTM_RESET_VAL, (volatile void*) SiFive_OTP::PTM);
-        IO::writel(PTRIM_DISABLE_INPUT, (volatile void*) SiFive_OTP::PTRIM);
-        IO::writel(PDSTB_DEEP_STANDBY_DISABLE, (volatile void*) SiFive_OTP::PDSTB);
-        
-        return size;
-    }
-
-//private:
-//    static volatile CPU::Reg32 &reg(unsigned int o)
-//    {
-//        return reinterpret_cast<volatile CPU::Reg32 *>[o / sizeof(CPU::Reg32)];
-//    }
-};
-
-class OTP : private OTP_Common, private SiFive_OTP
-{
-
-public:
-    void init() {};
-};
-
-__END_SYS
-
-#endif
diff --git a/include/machine/riscv/sifive_u/sifive_u_traits.h b/include/machine/riscv/sifive_u/sifive_u_traits.h
index caea003..74e1200 100644
--- a/include/machine/riscv/sifive_u/sifive_u_traits.h
+++ b/include/machine/riscv/sifive_u/sifive_u_traits.h
@@ -66,21 +66,6 @@ template <> struct Traits<Timer>: public Traits<Machine_Common>
     static const int FREQUENCY = 10; // Hz
 };
 
-template <> struct Traits<OTP>: public Traits<Machine_Common>
-{
-    static const unsigned int BYTES_PER_FUSE = 4;
-    static const unsigned int TOTAL_FUSES    = 4096;  // 0x1000, as described by U-Boot.
-
-    static const unsigned int TPW_DELAY      = 20;    // Program pulse width delay
-    static const unsigned int TPWI_DELAY     = 5;     // Program pulse interval delay
-    static const unsigned int TASP_DELAY     = 1;     // Program address setup delay
-    static const unsigned int TCD_DELAY      = 40;    // Read data access delay
-    static const unsigned int TKL_DELAY      = 10;    // Clock pulse low delay
-    static const unsigned int TMS_DELAY      = 1;     // PTM mode setup delay
-};
-
-template <> struct Traits<IO>: public Traits<Machine_Common> {};
-
 template <> struct Traits<UART>: public Traits<Machine_Common>
 {
     static const unsigned int UNITS = 2;
diff --git a/include/system/config.h b/include/system/config.h
index 22c578a..e7d3a3d 100644
--- a/include/system/config.h
+++ b/include/system/config.h
@@ -174,8 +174,6 @@ namespace EPOS {
 #define __PMU_H                 __HEADER_ARCH(pmu)
 
 #define __UART_H                __HEADER_MACH(uart)
-#define __OTP_H                 __HEADER_MACH(otp)
-#define __IO_H                  __HEADER_MACH(io)
 #endif
 
 #include <system/meta.h>
diff --git a/include/system/traits.h b/include/system/traits.h
index 38f40b7..a9989aa 100644
--- a/include/system/traits.h
+++ b/include/system/traits.h
@@ -47,8 +47,6 @@ class Machine;
 class PCI;
 class IC;
 class Timer;
-class OTP;
-class IO;
 class RTC;
 class UART;
 class SPI;
diff --git a/include/system/types.h b/include/system/types.h
index 781ce1e..0d65c92 100644
--- a/include/system/types.h
+++ b/include/system/types.h
@@ -181,8 +181,6 @@ enum
     EEPROM_ID,
     SCRATCHPAD_ID,
     UART_ID,
-    OTP_ID,
-    IO_ID,
     DISPLAY_ID,
     KEYBOARD_ID,
     NIC_ID,
@@ -206,8 +204,6 @@ template<> struct Type<Machine> { static const Type_Id ID = MACHINE_ID; };
 template<> struct Type<IC> { static const Type_Id ID = IC_ID; };
 template<> struct Type<Timer> { static const Type_Id ID = TIMER_ID; };
 template<> struct Type<UART> { static const Type_Id ID = UART_ID; };
-template<> struct Type<OTP> { static const Type_Id ID = OTP_ID; };
-template<> struct Type<IO> { static const Type_Id ID = IO_ID; };
 template<> struct Type<RTC> { static const Type_Id ID = RTC_ID; };
 template<> struct Type<PCI> { static const Type_Id ID = PCI_ID; };
 template<> struct Type<Display> { static const Type_Id ID = DISPLAY_ID; };
diff --git a/makedefs b/makedefs
index 255c802..07772ad 100644
--- a/makedefs
+++ b/makedefs
@@ -101,7 +101,7 @@ ia32_COMP_PREFIX	:= /usr/bin/x86_64-linux-gnu-
 armv7_COMP_PREFIX	:= /usr/bin/arm-none-eabi-
 armv8_COMP_PREFIX	:= /usr/bin/aarch64-linux-gnu-
 rv32_COMP_PREFIX	:= /usr/local/rv32/bin/riscv32-unknown-linux-gnu-
-rv64_COMP_PREFIX	:= /usr/local/rv64/bin/riscv64-unknown-linux-gnu-
+rv64_COMP_PREFIX	:= /usr/bin/riscv64-linux-gnu-
 COMP_PREFIX		= $($(ARCH)_COMP_PREFIX)
 
 # Architecture specifics
diff --git a/src/api/thread.cc b/src/api/thread.cc
index f2c7483..74e4eba 100644
--- a/src/api/thread.cc
+++ b/src/api/thread.cc
@@ -320,7 +320,7 @@ void Thread::dispatch(Thread * prev, Thread * next)
 
         // The non-volatile pointer to volatile pointer to a non-volatile context is correct
         // and necessary because of context switches, but here, we are locked() and
-        // passing the volatile to switch_context forces it to push prev onto the stack,
+        // passing the volatile to switch_constext forces it to push prev onto the stack,
         // disrupting the context (it doesn't make a difference for Intel, which already saves
         // parameters on the stack anyway).
         CPU::switch_context(const_cast<Context **>(&prev->_context), next->_context);
diff --git a/src/machine/riscv/riscv_ic.cc b/src/machine/riscv/riscv_ic.cc
index c5768ba..d96f6a7 100644
--- a/src/machine/riscv/riscv_ic.cc
+++ b/src/machine/riscv/riscv_ic.cc
@@ -23,9 +23,9 @@ void IC::entry()
     // Entry-point for the dummy contexts used by the first dispatching of newly created threads
     ASM("       .global _int_leave              \n"
         "_int_leave:                            \n");
-if (Traits<IC>::hysterically_debugged) {
+if(Traits<IC>::hysterically_debugged)
     ASM("       jalr    %0                      \n" : : "r"(print_context));
-}
+
     // Restore context
     ASM("1:                                     \n");
     CPU::Context::pop(true);
diff --git a/tools/eposcfg/eposcfg.cc b/tools/eposcfg/eposcfg.cc
index 25238aa..2fbfa3a 100644
--- a/tools/eposcfg/eposcfg.cc
+++ b/tools/eposcfg/eposcfg.cc
@@ -23,7 +23,7 @@ using namespace EPOS::S::U;
 
 // Constants
 const unsigned int TOKENS = 31;
-const unsigned int COMPONENTS = 64;
+const unsigned int COMPONENTS = 62;
 const unsigned int STRING_SIZE = 128;
 
 // Configuration tokens (integer tokens first, marked by INT_TOKENS)
@@ -73,8 +73,6 @@ char components[COMPONENTS][STRING_SIZE] = {
     "PCI",
     "IC",
     "Timer",
-    "OTP",
-    "IO",
     "RTC",
     "UART",
     "USB",
@@ -184,6 +182,7 @@ int main(int argc, char **argv)
 // Populates the values for the string configurations
 void populate_strings()
 {
+
     // Integer value tokens
     char string[STRING_SIZE];
     const char i32format[] = "0x%08x";
@@ -338,7 +337,7 @@ void populate_strings()
     case Traits<Build>::LM3S811:        set_token_value("MMOD", "lm3s811");            break;
     case Traits<Build>::Zynq:           set_token_value("MMOD", "zynq");               break;
     case Traits<Build>::Realview_PBX:   set_token_value("MMOD", "realview_pbx");       break;
-    case Traits<Build>::Raspberry_Pi3:  set_token_value("MMOD", "raspberry_pi3");      break;
+    case Traits<Build>::Raspberry_Pi3:  set_token_value("MMOD", "raspberry_pi3");     break;
     case Traits<Build>::SiFive_E:       set_token_value("MMOD", "sifive_e");           break;
     case Traits<Build>::SiFive_U:       set_token_value("MMOD", "sifive_u");           break;
     default:                            set_token_value("MMOD", "unsuported");         break;
@@ -361,8 +360,6 @@ void populate_strings()
     if(Traits<PCI>::enabled)            enable_component("PCI");
     if(Traits<IC>::enabled)             enable_component("IC");
     if(Traits<Timer>::enabled)          enable_component("Timer");
-    if(Traits<OTP>::enabled)            enable_component("OTP");
-    if(Traits<IO>::enabled)             enable_component("IO");
     if(Traits<RTC>::enabled)            enable_component("RTC");
     if(Traits<UART>::enabled)           enable_component("UART");
     if(Traits<USB>::enabled)            enable_component("USB");
diff --git a/tools/epostest/epostest b/tools/epostest/epostest
index ef9e7cf..e9391d4 100755
--- a/tools/epostest/epostest
+++ b/tools/epostest/epostest
@@ -5,7 +5,7 @@ APP=$EPOS/app
 IMG=$EPOS/img
 REP=$EPOS/report
 MODES="LIBRARY"
-APPLICATIONS="hello otp_test philosophers_dinner producer_consumer simple_idle_test simple_priority_test"
+APPLICATIONS="hello philosophers_dinner producer_consumer"
 LIBRARY_TARGETS=("IA32 PC Legacy_PC" "RV32 RISCV SiFive_E" "RV64 RISCV SiFive_U" "ARMv7 Cortex LM3S811" "ARMv7 Cortex eMote3" "ARMv7 Cortex Realview_PBX" "ARMv7 Cortex Zynq" "ARMv7 Cortex Raspberry_Pi3" "ARMv8 Cortex Raspberry_Pi3")
 LIBRARY_TESTS=""
 
